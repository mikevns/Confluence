define("confluence/breadcrumbs",["jquery","ajs","document","confluence/templates"],function(b,c,f,e){return{init:function(){b("#ellipsis").one("click keypress",function(a){try{if("click"===a.type||"keypress"===a.type&&(32===a.keyCode||13===a.keyCode))b("#breadcrumbs .hidden-crumb").removeClass("hidden-crumb"),b(this).addClass("hidden-crumb"),c.trigger("breadcrumbs.expanded"),b("#breadcrumbs li").eq(2).find("span a").focus()}catch(d){c.log(d)}})},update:function(a,d){b.ajax({type:"GET",dataType:"json",
data:{spaceKey:a,title:d},url:c.contextPath()+"/pages/breadcrumb.action",error:function(){},success:function(a){a&&a.breadcrumbs&&b("ol#breadcrumbs").html(e.Breadcrumbs.render({breadcrumbs:a.breadcrumbs,ellipsisIndex:a.ellipsisIndex,ellipsisLength:a.ellipsisLength}))}})}}});require("confluence/module-exporter").safeRequire("confluence/breadcrumbs",function(b){require("ajs").toInit(b.init)});