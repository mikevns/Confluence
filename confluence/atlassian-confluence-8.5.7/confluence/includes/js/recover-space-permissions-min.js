define("confluence/recover-space-permissions",["jquery","confluence/meta","ajs","confluence/api/logger"],function(c,d,a,f){return function(){var g=c("#space-permissions-table .recover-permissions-link"),h=d.get("remote-user");g.on("click",function(d){var e=c(this).data("space-key"),b=new a.Dialog({width:400,height:210,id:"recover-permissions-dialog",closeOnOutsideClick:!0});b.addHeader(a.I18n.getText("admin.defaultspacepermissions.spaces.recoverpermissions.dialog.title"));b.addPanel("message","<p>"+
a.I18n.getText("admin.defaultspacepermissions.spaces.recoverpermissions.dialog.content")+"</p>","recover-permissions-panel-body");b.addButton(a.I18n.getText("ok"),function(b){a.safe.ajax({type:"POST",url:a.contextPath()+"/admin/permissions/grantspacepermissions.action",data:{spaceKey:e}}).done(function(){location.reload()}).fail(function(){f.log("Space Permissions: Failed to recover space permissions for "+h+" to the "+e+" space.")}).always(function(){b.remove()})});b.addLink(a.I18n.getText("cancel.name"),
function(a){a.remove()},"#");b.show();d.preventDefault()})}});require("confluence/module-exporter").safeRequire("confluence/recover-space-permissions",function(c){require("ajs").toInit(c)});