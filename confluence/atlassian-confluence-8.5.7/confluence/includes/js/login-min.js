define("confluence/login",["jquery","ajs","document"],function(a,c,d){return function(){function f(){var g=a(".signup-section");0!==g.length&&(a(".login-section").hide(),g.show())}function h(){a(".login-section").show();a(".signup-section").hide()}(-1<d.URL.indexOf("login.action")||-1<d.URL.indexOf("logout.action"))&&h();-1<d.URL.indexOf("signup.action")&&f();a("#signupMessage").delegate("click","a",function(a){a.preventDefault();f()});a("#loginMessage").delegate("click","a",function(a){a.preventDefault();
h()});var i=a(c.template('<div id="os_{field}_error" class="error" style="display:none"><span class="error">{message}</span></div>').fill({field:"username",message:c.I18n.getText("login.username.required")}).toString()),j=a(c.template('<div id="os_{field}_error" class="error" style="display:none"><span class="error">{message}</span></div>').fill({field:"password",message:c.I18n.getText("login.password.required")}).toString()),k=a("#os_username"),l=a("#os_password"),e=a("#loginButton");e.closest("form").submit(function(a){e.attr("enabled",
"false");var b;b=!0;1>k.val().length?(b=!1,k.after(i.show())):i.hide();1>l.val().length?(b=!1,l.after(j.show())):j.hide();b||e.attr("enabled","true");b||a.preventDefault()})}});require("confluence/module-exporter").safeRequire("confluence/login",function(a){require("ajs").toInit(a)});