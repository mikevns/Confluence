(function(e){function g(a,c){for(var b=0,d=i[a],e=d.length;b<e;b++)d[b](c)}var j=Boolean("undefined"!==typeof history&&history.pushState&&history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(navigator.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(navigator.userAgent))),d=function(){return d.nativeSupport()};d.nativeSupport=function(){return j};var i={"memoir.popstate":[],"memoir.changestate":[]},f={pushState:function(a,c,b){history.pushState(a,c||"",b||"");g("memoir.changestate",
{state:a})},replaceState:function(a,c,b){history.replaceState(a,c||"",b||"");g("memoir.changestate",{state:a})},bind:function(a,c){a in i&&i[a].push(c)},state:function(){return history.state},initialState:function(a){return history.replaceState(a,"","")}},n={pushState:function(a,c,b){b&&location.href!==b&&(location.href=b)},replaceState:function(a,c,b){b&&location.href!==b&&(location.href=b)},bind:function(){},initialState:function(){},state:function(){return null}},o=d,f=j?f:n,h;for(h in f)f.hasOwnProperty(h)&&
(o[h]=f[h]);var k=e.onpopstate,l="state"in history,p=location.href;e.onpopstate=function(a){k&&k.call(this,a);var c=!l&&location.href==p;l=!0;c||(g("memoir.popstate",a),g("memoir.changestate",a))};var m=e.memoir;d.noConflict=m?function(){e.memoir=m;return d}:function(){delete e.memoir;return d};e.memoir=d})(window);